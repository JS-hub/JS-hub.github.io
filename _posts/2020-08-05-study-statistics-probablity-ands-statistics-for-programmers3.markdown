---  
layout: post  
title: "프로그래머를 위한 확률과 통계 3장"  
subtitle: "statistics"  
categories:  study
tags: statistics 확률 
comments: false  
---  
## 이항분포
### 이항분포의 유도
이항분포는 '확률 $p$로 앞이 나오는 동전을 $n$번 던졌을 때 앞이 몇 번 나올지'의 분포입니다. 즉, 확률 $p$로 1, 확률$ q =(1-p)$로 0이 나오는 독립적인 확률변수 $Z_1~,...,Z_n$을 두면, $Z_1~+...+Z_n$의 분포가 이항분포가 되며 아래가 이항분포의 예입니다.
 <p style="text-align: center;" >
<img src = "https://JS-hub.github.io\assets\img\study\정규분포.jfif" >
</p>

그림과 같이 이항분포의 구체적인 모습은 n과 p에 따라 바뀝니다. 따라서 이항분포를 $Bn(n,p)$처럼 나타낸다.<br>


예시) 동전 던지기에서 앞이 나올 확률이 $p$일 때 7번 던져서 앞면이 3번 나오는 확률 $P(x=3)$을 구하시오 
<br>
동전을 7번 던져 앞면이 3번 나올 경우의 수는 총 35개이며 각각의 확률은 $p^3 q^4$이다. 따라서 $P(x=3) = 35p^3 q^4$이다.

## 순열 ${}_n P _k$ , 조합  ${}_n C _k$

#### 순열 
n명의 사람 중에 k명의 사람을 뽑아 한 줄로 세우는 방법을 순열이라고 하며 ${}_n P _k$라고 씁니다.
답은 첫 번째가 n가지, 두 번째는 (n-1)가지, 세 번째는 (n-2)가지라고 생각하면 됩니다. <br>

${}_n P _k = n(n-1)(n-2)....(n-k+1)$
${}_n P _k = \frac {n!} {(n-k)!}$

#### 조합
순서에 상관없이 n명의 사람중에서 k명의 사람을 고르는 방법을 조합이라고 하며  ${}_n C _k$라고 쓴다. ${}_n P _k$와 다르게 선택한 k명의 사람을 나열하는 (${}_k P _k = k!$)의 차이를 무시하는 방법으로 ${}_n P _k$를 $k!$으로 나누면 됩니다.
${}_n C _k = \frac {({}_n P _k)} {k!} =\frac {n!} {k!(n-k)!} $

## 기댓값 
$ E[X] = \sum_k kP(X=k) $
$ E[g(X)] = \sum_k g(k)P(X=k) $
g는 임의의 함수이며 위의 식이 기댓값의 정의이다.

#### 기댓값의 성질 
$ E[X+c] =E[X] + c  $<br>
$ E[cX] =cE[X] $<br>
$ E[X+Y] =E[X] + E[Y]  $
<br>
예제) <br> 
이항분포 $Bn(n,p)$의 기댓값을 구하시오. <br>
이항분포 $Bn(n,p)$는 확률 p로 앞이 나오는 동전을 n번 던졌을 때 앞이 나온 횟수 X의 분포입니다. <br>그 기댓값을 $P(X=k) = {}_n C _k p^k (1-p)^{n-k}, E[x] = E[X] = \sum_k kP(X=k) $로 계산하기 보다는 '확률 p로 1 확률 (1-p)로 0이 나오는 확률 변수 $Z_1,...,Z_n$의 합이 X다'로 해석하면 기댓값을 알 수 있습니다.
$E[X] = E[Z_1,...,Z_n] = E[Z_1]+...+E[Z_n] = p+...+p = np$

#### 기댓값 곱셈의 성질
확률변수 X,Y의 곱셈의 기댓값 $E[XY]$를 구할 때는 X,Y의 독립 여부에 따라 다릅니다. <br>
X, Y가 독립이면 $E[XY] = E[X]E[Y]$이다.<br>
하지만 독립이라는 전제가 없으면 $E[XY] = E[X]E[Y]$는 성립한다고 할 수 없습니다.

## 분산과 표준편차

### 분산
예시로 어떤 롤플레잉 게임에서 몬스터에게 공격을 받았을 때의 타격을 다음과 같이 확률적으로 결정된다고 한다.

|종류|타격|
|:---:|:---|
|몬스터 A| 1,2,3,4,5가 같은 확률로 나오는 주사위를 세 번 던져 나온 눈의 합계|
|몬스터 B|1,2,3,4,5,6,7,8이 같은 확률로 나오는 주사위를 두 번 던져 나온 눈의 합계|

몬스터 A의 타격 X와 몬스터 B의 타격 Y의 분포는 각각 다음과 같다.

|X 값|그 값이 나올 확률|  
|:---:|:---|
|2|0|
|3|1/125 = 0.008|
|4|3/125 = 0.024|
|5|6/125 = 0.048|
|6|10/125 = 0.080|
|7|15/125 = 0.120|
|8|18/125 = 0.144|
|9|19/125 = 0.152|
|10|18/125 = 0.144|
|11|15/125 = 0.120|
|12|10/125 = 0.080|
|13|6/125 = 0.048|
|14|3/125 = 0.024|
|15|1/125 = 0.008|
|16|0|

|Y 값|그 값이 나올 확률|  
|:---:|:---|
|2|1/64 = 0.016|
|3|2/64 = 0.031|
|4|3/64 = 0.047|
|5|4/64 = 0.063|
|6|5/64 = 0.078|
|7|6/64 = 0.094|
|8|7/64 = 0.109|
|9|8/64 = 0.125|
|10|7/64 = 0.109|
|11|6/64 = 0.094|
|12|5/64 = 0.078|
|13|4/64 = 0.063|
|14|3/64 = 0.047|
|15|2/64 = 0.031|
|16|1/64 = 0.016|

기댓값은 $E[X] = E[Y] = 9$로  둘이 같으나 분포형태는 다르다. 따라서 기댓값에서 벗어나는 상화을 평가하는 기준이 필요한데 그 기준을 분산이라고한다.

확률변수 $X$의 기댓값이 $E[X] = \mu$였을 때 나온 값 $x$에 대해 $\mu$ 벗어나는 정도를 재는 방법을 정하는데 여기서 $(x-\mu)^2$이라는 제곱오차가 사용된다.
- 만약 우연히 X의 값으로 $\mu$가 나오면 $(x-\mu)^2 =0$
- 그 외의 경우에는 $(x-\mu)^2 >0$
- $\mu$에서 크게 벗어난 $x$만큼 $(x-\mu)^2$은 커진다.
따라서 벗어난 정도의 강도라 할 수 있다. 다만 이것은 유동적인 값으로 흔들림 없는 값을 사용하기 위해 $E[(x-\mu)^2]$를 사용하며 분산이라 부르며, $ V[X]$나 $Var[X]$라는 기호로 나타낸다. 또한 정의로부터 $ V[X]\geq 0$가 항상 성립함을 알 수 있다. 

$V[X] = 0$이면 전혀 흔들림이 없는 값이며 $P(x = \mu)$가 1이어야 한다.


예제
위의 몬스터 예시에서 $V[X]$와 $V[Y]$를 구하고, $V[X]< V[Y]$를 확인하시오.<br>
$V[X] = E[(X-9)^2]$
$= (3-9)^2 P(X=3) + (4-9)^2 P(X=4) + .... + (14-9)^2 P(X=14) +(15-9)^2 P(X=15)$
<br>
$= 6^2 \cdot \frac 1 {125} + 5^2 \cdot \frac 3 {125} + \cdots + 1^2 \cdot \frac {18} {125} + 0^2 \cdot \frac {19} {125}+  1^2 \cdot \frac {18} {125} + \cdots + 5^2 \cdot \frac 3 {125} + 6^2 \cdot \frac 1 {125}$
$= \frac {750} {125} =6$ <br>

$V[Y] = E[(Y-9)^2]$
$= (2-9)^2 P(X=2) + (3-9)^2 P(X=3) + .... + (15-9)^2 P(X=15) + (16-9)^2 P(X=16)$
$= 7^2 \cdot \frac 1 {64} + 6^2 \cdot \frac 2 {64} + \cdots + 1^2 \cdot \frac 7 {64} + 0^2 \cdot \frac {8} {64}+  1^2 \cdot \frac {7} {64} + \cdots + 6^2 \cdot \frac 2 {64} + 7^2 \cdot \frac 1 {64}$
$= \frac {672} {64} = \frac {21} 2  = 10.5$

분산을 기댓값으로 나타내면
$V[X] = E[X^2] - E[X]$와 같이 나타낼 수 있다.

### 표준편차
분산에서 우리는 제곱오차를 이용했다. 따라서 분산의 값은 거리차의의 제곱의 기댓값이 되기 때문에 비교하기 어렵다. 따라서 분산의 제곱근을 표준편차 (standarad deviation)라고 부르며 문자는 $\sigma$나 $s$를 쓰는 것이 보통이다.

$\sigma = \sqrt {V[X]}$ 

### 분산, 표준편차의 성질
$V[X+c] = V[X]$
$V[cX]  = c^2V[X]$

표준편차의 경우

- 확률변수에 상수c를 더해도 표준편차는 변하지 않는다.
- 확률변수에 상수c를 곱하면 표준편차는 $\|c\|$배

두 확률변수 X,Y가 독립일 때
$V[X+Y] = V[X] + V[Y]$가 성립한다. 

### 정규화
$E[X] = \mu , V[X] = \sigma^2>0 $라고할 때 
$W \equiv \frac {X-\mu} {\sigma}$로 변환하면 $E[W] = 0, V[W] =1$이된다.
일반적으로 종류가 다른 데이터를 모아 무엇을 하려고 할 때 각각 정규화해서 맞춘 다음 본격적인 처리한다. 

